<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ˜ƒWeAreMoody.</title>
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <link href="static/css/style.css" rel="stylesheet">
    <link href="{{url_for('static', filename='images/favicon.png')}}" rel="icon" type="image/x-icon">
    <script defer src="static/js/face-api.min.js"></script>
    <script defer src="static/js/musicjs.js"></script>
    <script defer src="static/js/faceapi.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/vibrant.js/1.0.0/Vibrant.min.js"></script>
</head>

<body>
    <nav>
        <!--Logo + Name-->
        <div class="logo" onclick="reload();"></div>
        <!--Search Bar-->
        <form class="search" onsubmit="event.preventDefault(); searchFeature();">
            <input type="search" id="search-bar" placeholder="Have a particular song in mind?">
            <svg id="search-in-progress" xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'>
                <radialGradient id='l1' cx='.66' fx='.66' cy='.3125' fy='.3125' gradientTransform='scale(1.5)'>
                    <stop offset='0' stop-color='#fff'></stop>
                    <stop offset='.3' stop-color='#fff' stop-opacity='.9'></stop>
                    <stop offset='.6' stop-color='#fff' stop-opacity='.6'></stop>
                    <stop offset='.8' stop-color='#fff' stop-opacity='.3'></stop>
                    <stop offset='1' stop-color='#fff' stop-opacity='0'></stop>
                </radialGradient>
                <circle transform-origin='center' fill='none' stroke='url(#l1)' stroke-width='15' stroke-linecap='round'
                    stroke-dasharray='200 1000' stroke-dashoffset='0' cx='100' cy='100' r='70'>
                    <animateTransform type='rotate' attributeName='transform' calcMode='spline' dur='2' values='360;0'
                        keyTimes='0;1' keySplines='0 0 1 1' repeatCount='indefinite'></animateTransform>
                </circle>
                <circle transform-origin='center' fill='none' opacity='.2' stroke='#fff' stroke-width='15'
                    stroke-linecap='round' cx='100' cy='100' r='70'></circle>
            </svg>
        </form>
    </nav>

    <!--Photograph-->
    <div id="clicked-photo">
        <img id="photograph" src=""><img id="face-box" src="">
    </div>

    <!--App Area-->
    <div id="panels" onclick="snap()">
        <!--Capture Area - Left Panel-->
        <div class="left-panel">
            <!--WebCam-->
            <div name="video cam" style="width: 85%; display: flex; justify-content: center; place-items: center; max-width: 600px; height: auto; aspect-ratio: 16/11; position: relative;">
                <!--Container-->
                <div class="gradient" id="video-container">
                    <video id="video" width="480px" height="450px" autoplay muted></video>
                </div>
                <!--CamOnOff Button-->
                <div class="camera-toggle" onclick="cameraONOFF('auto')">
                    <svg fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px"
                        viewBox="0 0 487.811 487.811" xml:space="preserve">
                        <g><g><polygon points="0,124.814 0,124.814 0,124.805" /><path d="M487.592,118.178l-1.425-1.521c-0.794-0.851-2.247-1.874-4.657-1.874l-77.169,0.067c-2.229,0-7.43-6.101-9.209-11.733l-16.639-47.392c-2.477-7.889-10.49-7.889-13.502-7.889l-181.238,0.077l-3.691-0.029c-3.825,0-12.785,0-15.195,8.319l-14.564,51.102c-1.1,3.806-5.508,7.545-8.902,7.545l-121.473-0.019c-7.449,0-19.918,0-19.928,9.974c0.01-5.69,14.563-0.517,24.604-0.411l116.796,0.019c5.852,0,11.886-6.655,13.493-12.192l14.563-52.316c1.559-5.384,8.052-2.61,13.789-2.458l176.974,0.029H183.753c-0.163,0-0.334,0-0.497,0c-5.728,0-12.23-2.936-13.789,2.438l-14.564,52.316c-1.597,5.518-7.612,12.135-13.435,12.183c8.558-0.038,16.017-7.506,18.025-14.458l14.563-51.083l-14.563,51.093c-2.018,6.952-9.505,14.449-18.092,14.449l0,0c0.019,0,0.038,0,0.057,0c-0.019,0-0.038,0-0.057,0l0,0l0,0l0,0H24.93c-0.105,0-0.22,0-0.325,0c-10.041,0-24.595-5.288-24.604,0.401c0,0,0-0.009,0,0v287.229l0,0c0,23.084,13.56,27.932,24.93,27.932l0,0l0,0h451.102c2.878,0,5.412-1.041,7.354-3.031c4.771-4.896,4.532-14.314,4.351-21.199c-0.038-1.367-0.048-2.602-0.048-3.701V121.171L487.592,118.178z M478.173,415.982c0.048,1.998,0.134,5.068-0.048,7.879C478.307,421.051,478.221,417.98,478.173,415.982c-0.038-1.482-0.048-2.811-0.048-3.93c0,0,0-0.01,0-0.02v-0.096c0,0.029,0,0.086,0,0.115C478.105,413.172,478.135,414.5,478.173,415.982z M404.341,124.413L404.341,124.413C404.341,124.413,404.331,124.413,404.341,124.413L404.341,124.413z M274.922,148.319c59.412,0,107.578,48.167,107.578,107.578c0,59.412-48.166,107.578-107.578,107.578c-59.412,0-107.578-48.166-107.578-107.578C167.344,196.485,215.51,148.319,274.922,148.319z" /></g></g>
                    </svg>
                </div>
            </div>

            <!--Recommend Me Button-->
            <p id="recommendation-note"></p>
            <div class="recommend-button" onclick="recommend()">
                <div>
                    <p>Recommend a Song</p>
                </div>
            </div>
            <!--Lyrics Tab-->
            <div class="lyrics-panel">
                <p>Fetching Lyrics for you..</p>
            </div>

        </div>

        <!-- Music Player - Right Panel -->
        <div class="right-panel">
            <!-- Music Card -->
            <div class="player">
                <img  onclick="lyricToggle()" src="static/images/transparent.png" alt="Song Artwork">
                <div name="mainsong metadata" class="current-song-detail">
                    <div style="flex: 1;">
                        <button class="play-button" onclick="togglePlay();">
                            <div style="transform: translate(5%,-5%);">â–¶</div>
                        </button>
                    </div>
                    <div style="flex: 1;">
                        <div>
                            <h2>Song Title</h2>
                        </div>
                        <div>
                            <p>Artist Name</p>
                        </div>
                    </div>
                </div>
                <div class="slide-container" style="width: 90%; justify-content: center; place-items: center;">
                    <input type="range" onchange="updateSlider('update')" class="slider button" id="music-slider"
                        min="0" max="100" value="0" />
                </div>
            </div> <br><br>
            <!-- Similar Songs Cards -->
            <p style="font-size: min(8vw, 30px); font-family: open sans; padding: 5% 0% 2% 0%;">Similar Songs</p>
            <div class="similar-songs"
                style="overflow-y: hidden; overflow-x: auto; width: 100%;  height: auto; max-width: 450px; aspect-ratio: 16/19; ">
                <div name="similar song cards">
                    <div class="song-card" id="similar1" onclick="similarsongclick('#similar1');">
                        <div class="thumb">
                            <img src="static/images/transparent.png" alt="Song 1">
                        </div>
                        <div>
                            <h3>Song Title 1</h3>
                            <p>Artist Name</p>
                        </div>
                        <div class="similar-song-play button">
                            <div style="transform: translateX(5%); font-size: 130%; color:white;">â–¶</div>
                        </div>
                    </div>
                    <div class="song-card button" id="similar2" onclick="similarsongclick('#similar2');">
                        <div class="thumb">
                            <img src="static/images/transparent.png" alt="Song 1">
                        </div>
                        <div>
                            <h3>Song Title 2</h3>
                            <p>Artist Name</p>
                        </div>
                        <div class="similar-song-play button">
                            <div style="transform: translateX(5%);font-size: 130%; color:white;">â–¶</div>
                        </div>
                    </div>
                    <div class="song-card button" id="similar3" onclick="similarsongclick('#similar3')">
                        <div class="thumb">
                            <img src="static/images/transparent.png" alt="Song 1">
                        </div>
                        <div>
                            <h3>Song Title 3</h3>
                            <p>Artist Name</p>
                        </div>
                        <div class="similar-song-play button">
                            <div style="transform: translateX(5%); font-size: 130%; color:white;">â–¶</div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <!-- -->
    </div>
</body>

</html>